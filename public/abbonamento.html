!
<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
<!--<![endif]-->

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Progetto Talia - Persone per bene orientate al successo.</title>
  <meta name="description"
    content="Il Progetto Talia di Matteo Achilli è rivolto a chi vuole crescere come individuo e ottenere un approccio maturo, consapevole e di successo. Persone per bene orientate al successo">
  <link rel="icon" type="image/png" href="img/favicon.png ">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="assets/main.css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,500,700" rel="stylesheet">
</head>

<body>
  <!--[if lt IE 7]>
      <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

  <div id="wrapper-navbar" itemscope itemtype="http://schema.org/WebSite">

    <nav id="navbar" class="navbar navbar-expand-md navbar-dark bg-primary fixed-top">

      <div class="container">

        <a class="navbar-brand" rel="home" href="index.html" title="Talia" itemprop="url">
          <img src="img/logo/talia_logo.svg" alt="">
        </a>

        <button class="navbar-toggler" type="button">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div id="navbarNavDropdown" class="collapse navbar-collapse">
          <ul id="main-menu" class="navbar-nav ml-auto">
            <li>
              <a href="index.html#about" class="nav-link">About</a>
            </li>
            <li>
              <a href="index.html#purchase" class="nav-link">Partecipa</a>
            </li>
            <li>
              <a href="index.html#faq" class="nav-link">Faq</a>
            </li>
            <li>
              <a href="termini.html" class="nav-link">Termini & Condizioni</a>
            </li>
          </ul>
        </div>
      </div><!-- .container -->

    </nav><!-- .site-navigation -->
    <div id="MobileNav" class="bg-primary">
      <div class="container">
        <ul id="MobileNavLinks">
          <li>
            <a href="index.html#about" class="nav-link text-white">About</a>
          </li>
          <li>
            <a href="index.html#purchase" class="nav-link text-white">Partecipa</a>
          </li>
          <li>
            <a href="index.html#faq" class="nav-link text-white">Faq</a>
          </li>
          <li>
            <a href="termini.html" class="nav-link text-white">Termini & Condizioni</a>
          </li>
        </ul>
      </div>
    </div>
  </div><!-- #wrapper-navbar end -->

  <div class="wrapper" id="page-wrapper">

    <div class="container" id="content" tabindex="-1">

      <main class="site-main" id="main">
        <div class="row mt-5 pt-5">
          <div class="col-md-8 offset-md-2 col-lg-4 offset-lg-4">
            <!-- Begin Campaignzee Embed Form -->

            <style>
              .cz-field-group .clear {
                clear: both;
              }

              #card-element {
                width: 100%;
                margin-bottom: 32px;
              }

              @media screen and (max-width: 480px) {
                .cz-field-group {
                  width: 300px;
                }
              }
            </style>
            <h2 class="mt-lg-5">Diventa subito membro di questa community</h2>
            <p>Fai un investimento su te stesso. Abbonati e ricevi 4 contenuti esclusivi ogni mese. Scopri come
              ragionano le persone di successo. In più avrai l'opportunità di partecipare ad un incontro all’anno
              offerto da Matteo Achilli, dove poter rafforzare questa community guardandoci negli occhi.</p>
            <div id="cz_embed_signup">
              <form action="https://manage.campaignzee.com/embed/rPCw0JVgUN" method="POST" id="cz_embed_form">
                <div class="cz-field-group form-group">
                  <input class="form-control" name="embed" value="true" type="hidden">
                  <label for="EMAIL">Email *</label>
                  <div class="clear"></div>
                  <input class="form-control" type="email" class="required email form-control" id="EMAIL" name="EMAIL"
                    required />
                </div>
                <div class="cz-field-group form-group">
                  <label for="FNAME">Nome *</label>
                  <input type="text" class="form-control required" id="FNAME" name="merge_fields[FNAME]" required />
                </div>
                <div class="cz-field-group form-group">
                  <label for="LNAME">Cognome *</label>
                  <input type="text" class="form-control required" id="LNAME" name="merge_fields[LNAME]" required />
                </div>
                <div class="cz-field-group form-check">
                    <input class="form-check-input" type="checkbox" name="TERMS" value="" id="TERMS" required>
                  <label class="form-check-label" for="TERMS">Acconsento ai <a href="#">termini e condizioni</a> e <a href="#">privacy policy</a>.</label> 
                </div>

                <div class="cz-field-group form-group">
                  <h4>Il tuo abbonamento</h4>
                  <!-- <button id="open_coupon_btn" class="btn btn-link" style="font-size:11px; float:right; padding-top:10px; padding-right:2px;">Have a coupon?</button>
                        <div class="form-group" id="coupon-group" style="display:none; margin-left:0; padding-top:10px;">
                        <label id="coupon_code_lbl" class="col-lg-3 control-label" style="text-align:left; padding-left:17px;">Coupon Code</label>
                        <div class="col-lg-9" style="padding-left:0; padding-right:0; display:inline-block; width:56%;">
                          <input id="coupon_code" type="text" class="form-control" autocomplete="off">
                          <input id="coupon_input" type="hidden">
                          <span class="label label-danger stripe-error" id="coupon-error" style="display:none;">This coupon code is not valid.</span>
                        </div>
                        <div style="display:inline-block; float:right; padding-right:15px;">
                          <button id="apply_coupon" class="btn btn-primary btn-sm btn-block" style="width:70px; height:29px; margin-top:5px;">Apply</button>
                        </div>
                        </div> -->
                  <div id="plan-group">
                    <div class="radio">
                      <label><input type="radio" class="planRadios" id="2424" name="plan" value="2424" checked> Basic -
                        1&#x20AC;
                        Ogni mese
                      </label>
                    </div>
                  </div>
                </div>
                <div class="cz-field-group" id="card-group">
                  <h4>Inserisci i dati di pagamento</h4>
                  <div class="campaignzee-form-group form-group" id="card-info-group">
                    <div id="card-element" class="form-control" style="padding: .75rem .75rem;">

                    </div>
                    <div id="card-errors" role="alert"></div>
                  </div>

                  <!-- <button id="modalbutton" type="button" class="mt-auto btn btn-lg btn-primary text-white d-block mt-3"
                    data-toggle="modal" data-target="#signupconditions" disabled>Abbonati a talia
                  </button> -->

                  <input form="cz_embed_form" id="inputelement" class="btn btn-lg btn-primary text-white submit" type="submit" value="Abbonati a Talia" disabled>

                  

                </div>
              </form>
              
              <div class="modal fade" id="signupconditions" tabindex="-1" role="dialog" aria-hidden="true">
                  <div class="modal-dialog" role="document">

                    <div class="modal-content">
                      <div class="modal-header">
                        <h4 class="pull-left modal-title">Termini, condizioni e privacy</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                      </div>
                      <div class="modal-body">
                        <p>
                          Lorem ipsum dolor, sit amet consectetur adipisicing elit. Vero temporibus harum odit fuga
                          aspernatur nam ad, assumenda animi dolor nulla, id culpa quod tenetur, amet provident!
                          Deleniti rem veniam totam.
                          Lorem ipsum, dolor sit amet consectetur adipisicing elit. Hic perspiciatis quaerat debitis
                          incidunt officiis explicabo repudiandae et. Quaerat quidem adipisci fugit quam eveniet
                          illum, ab at voluptatibus aperiam voluptas placeat!
                          Lorem ipsum dolor, sit amet consectetur adipisicing elit. Eos nostrum recusandae facere
                          neque officiis fugiat exercitationem aliquam asperiores expedita, deleniti dolor excepturi,
                          a est quisquam minima corporis provident. Ea, tempora.
                          Lorem ipsum dolor sit amet consectetur adipisicing elit. Natus voluptates adipisci eius ea
                          similique impedit deleniti ab sunt fugit quaerat dicta, facere illo doloribus minus numquam
                          error fuga pariatur voluptatem.
                          Lorem ipsum dolor sit amet consectetur adipisicing elit. Accusamus animi delectus ad
                          molestiae itaque exercitationem tenetur id nesciunt, repellat, possimus consequuntur, aut
                          mollitia temporibus tempore facere maiores esse error sequi!
                          Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolor perferendis quisquam
                          assumenda corporis! Ratione quaerat, quod similique excepturi officiis illo in repellat
                          exercitationem sapiente blanditiis! Asperiores veniam debitis aspernatur? Assumenda.
                        </p>
                      </div>
                    </div>
                  </div>
                </div>

              


              <aside class="cz-field-group form-group mt-4">Tutti i pagamenti vengono elaborati in modo sicuro da <a
                  href="https://stripe.com/it">Stripe</a>.</aside>
            </div>
            <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js"
              integrity="sha256-/SIrNqv8h6QGKDuNoLGA4iret+kyesCkHGzVUUV0shc=" crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.17.0/jquery.validate.min.js"></script>
            <script type="text/javascript" src="https://js.stripe.com/v3/"></script>
            <script type="text/javascript">
              var stripePubKey = "pk_live_LihSXqgjiidZiGeLi9F1pBnN00JtjbEX3w";
            </script>
            <script>
              disableModalButton();

              function checkForErrors(originalMessage, $form) {
                if ($(document).find('.error:visible').length > 0) {
                  disableSubmitButton(originalMessage, $form);
                } else {
                  enableSubmitButton(originalMessage, $form);
                }
              };


              function createToken(stripe, card) {

                stripe.createToken(card).then(function (result) {
                  if (result.error) {

                    // Inform the user if there was an error
                    var errorElement = document.getElementById('card-errors');
                    errorElement.textContent = result.error.message;

                    // Problem!
                    console.log("In response handler");
                    // Show the errors on the form:
                    alert('There was a problem subscribing you.');
                    console.log(result.error);
                  } else {

                    // Send the token to your server
                    stripeResponseHandler(result.token, result);
                  }
                });
              };

              function disableSubmitButton(originalMessage, $form) {
                var $form = $('#cz_embed_form');
                $form.find('.submit').prop('disabled', true);
                $form.find('.submit').val('Correggi errori');
              };

              function enableSubmitButton(originalMessage, $form) {
                var $form = $('#cz_embed_form');
                $form.find('.submit').prop('disabled', false);
                $form.find('.submit').val(originalMessage);
              };

              function disableModalButton() {
                $('#modalbutton').prop('disabled', true);
              };

              function enableModalButton() {
                $('#modalbutton').prop('disabled', false);
              };

              function stripeResponseHandler(token, response) {
                // Grab the form:
                var $form = $('#cz_embed_form');

                console.log("Stripe call was successful");
                // Get the token ID:

                console.log(response);

                // Insert the token ID into the form so it gets submitted to the server:
                var hiddenInput = document.createElement('input');
                hiddenInput.setAttribute('type', 'hidden');
                hiddenInput.setAttribute('name', 'stripeToken');
                hiddenInput.setAttribute('value', token.id);
                document.getElementById('cz_embed_form').appendChild(hiddenInput);

                // Submit the form:
                $form.get(0).submit();
              };

              $(document).ready(function () {

                // if(!$('body').change().hasClass("modal-open")){
                //   $("#inputelement").prop("disabled", true);
                // }

                console.log('embed-billing.js loaded');

                var $form = $('#cz_embed_form');

                var originalMessage = $form.find('.submit').val();

                var stripe;

                if (typeof testKey !== "undefined" && testKey.length > 0) {
                  stripe = Stripe(testKey);
                } else if (typeof stripePubKey !== "undefined" && stripePubKey.length > 0) {
                  stripe = Stripe(stripePubKey);
                } else {
                  console.log('There was an error setting the Stripe publishable key.');
                }

                var elements = stripe.elements();
                var card = elements.create('card');
                card.mount('#card-element');

                var $required = $('input,textarea,select').filter('[required]:visible');

                $required.on('focusout', function (event) {
                  console.log('changed');
                  event.preventDefault();

                  setTimeout(function () {
                    checkForErrors(originalMessage, $form);
                  }, 50);
                });

                card.addEventListener('change', function (event) {
                  var displayError = document.getElementById('card-errors');

                  if (event.error) {
                    displayError.textContent = event.error.message;
                    disableModalButton();
                    disableSubmitButton(originalMessage, $form);
                  } else {
                    displayError.textContent = '';
                    enableModalButton();
                    enableSubmitButton(originalMessage, $form);
                  }
                });

                // validation rules
                $form.validate({
                  invalidHandler: function (event, validator) {
                    // 'this' refers to the form
                    var errors = validator.numberOfInvalids();
                    if (errors) {
                      console.log(errors);
                      // Disable the submit button to prevent repeated clicks:
                      $form.find('.submit').prop('disabled', true);
                      $form.find('.submit').val('Correggi Errori');
                    } else {
                      // Re-enable button
                      $form.find('.submit').prop('disabled', false);
                      $form.find('.submit').val(originalMessage);
                    }

                  },

                  submitHandler: function (form) {
                    console.log('Form submitted');

                    $form.find('.submit').val('Subscribing');

                    // Disable the submit button to prevent repeated clicks:
                    $form.find('.submit').prop('disabled', true);
                    createToken(stripe, card);
                  }
                });

              });
            </script>
            <script src="assets/main.js"></script>

            <!-- End Campaignzee Embed Form -->
          </div>
        </div>

      </main><!-- #main -->

    </div><!-- #content -->



  </div><!-- #page-wrapper -->
  <div class="wrapper" id="wrapper-footer-full">

    <div class="container" id="footer-full-content" tabindex="-1">

      <div class="row">

        <div id="text-3" class="footer-widget widget_text widget-count-1 col-md-12">
          <div class="textwidget">
            <div class="site-info">
              <p>Copyright © Egomnia S.r.l. Via degli Olmetti 5/b, 00060 Formello (RM) – 2019 All Rights Reserved. <a
                  href="termini.html">Termini e Condizioni d’uso</a> – <a href="privacy.html">Privacy</a> - <a
                  href="cookies.html">Cookies</a></p>
            </div>
          </div>
        </div><!-- .footer-widget -->
      </div>

    </div>

  </div>
  <script>
    $(document).ready(function () {
      $(".navbar-toggler").click(function () {
        $("#MobileNav").toggleClass("overlay");
      });
      $("#MobileNav .nav-link").click(function () {
        $("#MobileNav").toggleClass("overlay");
      });


    });
  </script>

</body>

</html>